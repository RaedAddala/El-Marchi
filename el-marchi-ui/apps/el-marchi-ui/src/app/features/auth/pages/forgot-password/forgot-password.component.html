<div
  class="min-h-[70vh] flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"
>
  <div class="max-w-md w-full space-y-10 bg-white rounded-xl shadow-lg p-8">
    <div class="text-center space-y-2">
      <h2 class="text-3xl font-extrabold text-gray-900">Reset Password</h2>
      <p class="text-gray-500">Enter your email to reset your password</p>
    </div>

    <form
      [formGroup]="resetForm"
      (ngSubmit)="onSubmit()"
      class="space-y-8"
      data-cy="reset-form"
    >
      <div class="form-control">
        <label for="email" class="label font-medium text-gray-700">
          Email address
        </label>
        <div class="relative">
          <input
            type="email"
            id="email"
            formControlName="email"
            placeholder="john.doe@example.com"
            class="input input-bordered w-full pl-10"
            [ngClass]="{
              'input-error':
                resetForm.get('email')?.invalid &&
                resetForm.get('email')?.touched
            }"
          />
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5 absolute left-3 top-3 text-gray-400"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
            />
          </svg>
        </div>
        @if (resetForm.get('email')?.invalid && resetForm.get('email')?.touched)
        {
        <div class="label-text-alt text-error mt-1">
          @if (resetForm.get('email')?.errors?.['required']) { Email is required
          } @if (resetForm.get('email')?.errors?.['email']) { Please enter a
          valid email }
        </div>
        }
      </div>

      <div class="space-y-6">
        <button
          type="submit"
          [disabled]="resetForm.invalid || isSubmitting"
          class="btn btn-primary w-full"
        >
          @if (isSubmitting) {
          <span class="loading loading-spinner loading-sm"></span>
          } Reset Password
        </button>

        <p class="text-center text-sm text-gray-600">
          Remember your password?
          <a
            [routerLink]="['/auth/login']"
            class="font-medium text-primary hover:text-primary-focus"
          >
            Sign in
          </a>
        </p>
      </div>

      @if (successMessage) {
      <div class="alert alert-success">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="stroke-current shrink-0 h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
          />
        </svg>
        <span>{{ successMessage }}</span>
      </div>
      } @if (errorMessage) {
      <div class="alert alert-error">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="stroke-current shrink-0 h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"
          />
        </svg>
        <span>{{ errorMessage }}</span>
      </div>
      }
    </form>
  </div>
</div>
